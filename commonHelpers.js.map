{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n const gallery = document.querySelector('.gallery');\n const lightbox = new SimpleLightbox(\"gallery\", { \n            captions: true,\n            captionsData: 'alt',\n            captionDelay: 250\n         });\n\nexport function renderImages(images) {\n   \n    const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => \n        {\n                  return`\n        <a href=\"${largeImageURL}\" class=\"gallery-item\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n          <div class=\"info\">\n            <p><b>Likes:</b> ${likes}</p>\n            <p><b>Views:</b> ${views}</p>\n            <p><b>Comments:</b> ${comments}</p>\n            <p><b>Downloads:</b> ${downloads}</p>\n          </div>\n        </a>`;\n}).join('');\n\n    gallery.innerHTML = markup;\n    lightbox.refresh()\n  }\n\n  export function clearGallery() {\n    gallery.innerHTML = '';\n  }\n  \n  export function showLoader() {\n    document.querySelector('.loader').classList.remove('hidden');\n  }\n  \n  export function hideLoader() {\n    document.querySelector('.loader').classList.add('hidden');\n  }","export default function searchImagesByQuery(query) {\n    const URL = \"https://pixabay.com/api/\"; \n    const API_KEY = \"45241203-3832c115afebf1441ca7c88b6\";\n\n    return fetch(`${URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`).then((response) => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      }).catch((error) => {\n        iziToast.error({\n          position: \"topRight\",\n            message: `${error}`,\n        });\n      })\n}\n","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n// Описаний у документації\nimport {\n    renderImages,\n    clearGallery,\n    showLoader,\n    hideLoader,\n  } from \"./js/render-functions\";\n\nimport fetchImages from \"./js/pixabay-api\";\n\n\nconst form = document.querySelector('.search-form');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const queryInput = event.currentTarget.elements.query;\n  const query = queryInput.value.trim();\n\n  if (!query) {\n    iziToast.error({\n      message: 'Please enter a search query!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  fetchImages(query)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      } else {\n        renderImages(data.hits);\n      }\n    })\n    .catch(error => {\n      iziToast.error({ title: 'Error', message: error.message });\n    })\n    .finally(() => {\n      hideLoader();\n      queryInput.value = '';\n    });\n});\n\n\n"],"names":["gallery","lightbox","SimpleLightbox","renderImages","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","searchImagesByQuery","query","response","error","form","event","queryInput","iziToast","fetchImages","data"],"mappings":"6vBAGC,MAAMA,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,UAAW,CACpC,SAAU,GACV,aAAc,MACd,aAAc,GAC1B,CAAU,EAEH,SAASC,EAAaC,EAAQ,CAEjC,MAAMC,EAASD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAE/E;AAAA,mBACLL,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA,+BAEjBC,CAAK;AAAA,+BACLC,CAAK;AAAA,kCACFC,CAAQ;AAAA,mCACPC,CAAS;AAAA;AAAA,aAG3C,EAAE,KAAK,EAAE,EAENZ,EAAQ,UAAYK,EACpBJ,EAAS,QAAS,CACnB,CAEM,SAASY,GAAe,CAC7Bb,EAAQ,UAAY,EACrB,CAEM,SAASc,GAAa,CAC3B,SAAS,cAAc,SAAS,EAAE,UAAU,OAAO,QAAQ,CAC5D,CAEM,SAASC,GAAa,CAC3B,SAAS,cAAc,SAAS,EAAE,UAAU,IAAI,QAAQ,CAC5D,CCxCe,SAASC,EAAoBC,EAAO,CAI/C,OAAO,MAAM,qEAA2BA,CAAK,0DAA0D,EAAE,KAAMC,GAAa,CACxH,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAO,EAAE,MAAOC,GAAU,CAClB,SAAS,MAAM,CACb,SAAU,WACR,QAAS,GAAGA,CAAK,EAC7B,CAAS,CACT,CAAO,CACP,CCAA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAElDA,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMC,EAAaD,EAAM,cAAc,SAAS,MAC1CJ,EAAQK,EAAW,MAAM,KAAI,EAEnC,GAAI,CAACL,EAAO,CACVM,EAAS,MAAM,CACb,QAAS,+BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDV,IACAC,IAEAU,EAAYP,CAAK,EACd,KAAKQ,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBF,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EAEDpB,EAAasB,EAAK,IAAI,CAE9B,CAAK,EACA,MAAMN,GAAS,CACdI,EAAS,MAAM,CAAE,MAAO,QAAS,QAASJ,EAAM,OAAO,CAAE,CAC/D,CAAK,EACA,QAAQ,IAAM,CACbJ,IACAO,EAAW,MAAQ,EACzB,CAAK,CACL,CAAC"}