{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function searchImagesByQuery(query) {\n    const URL = \"https://pixabay.com/api/\"; \n    const API_KEY = \"45241203-3832c115afebf1441ca7c88b6\";\n\n    return fetch(`${URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`).then((response) => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      }).catch((error) => {\n        iziToast.error({\n          position: \"topRight\",\n            message: `${error}`,\n        });\n      })\n}\n","// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n// export function renderGallery(data) {\n//     const lightbox = new SimpleLightbox(\"gallery\", { \n//         captions: true,\n//         captionsData: 'alt',\n//         captionDelay: 250\n//      });\n//     const gallery = document.querySelector(\".gallery\");\n//     let images =  data.hits.map((hit) => {\n//       return `\n//         <a href=\"${hit.largeImageURL}\" class=\"gallery-item\">\n//           <img src=\"${hit.webformatURL}\" alt=\"${hit.tags}\" loading=\"lazy\" />\n//           <div class=\"info\">\n//             <p><b>Likes:</b> ${hit.likes}</p>\n//             <p><b>Views:</b> ${hit.views}</p>\n//             <p><b>Comments:</b> ${hit.comments}</p>\n//             <p><b>Downloads:</b> ${hit.downloads}</p>\n//           </div>\n//         </a>`;\n//     }).join('');\n//     list.insertAdjacentHTML(\"afterbegin\", images);\n//     lightbox.refresh();\n//   }\n  \n// export function clearImages() {\n//     const gallery = document.querySelector(\".gallery\");\n//     list.innerHTML = \"\";\n// }\n\n\n\nexport function renderGallery(images) {\n    const lightbox = new SimpleLightbox(\"gallery\", { \n                captions: true,\n                captionsData: 'alt',\n                captionDelay: 250\n             });\n    const gallery = document.querySelector('.gallery');\n    const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n      return `\n        <a href=\"${largeImageURL}\" class=\"gallery-item\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n          <div class=\"info\">\n            <p><b>Likes:</b> ${likes}</p>\n            <p><b>Views:</b> ${views}</p>\n            <p><b>Comments:</b> ${comments}</p>\n            <p><b>Downloads:</b> ${downloads}</p>\n          </div>\n        </a>`;\n    }).join('');\n    gallery.innerHTML = markup;\n  }","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n// Описаний у документації\n\nimport fetchImages from \"./js/pixabay-api\";\nimport { renderGallery } from \"./js/render-functions\";\n\n\ndocument.querySelector('.search-form').addEventListener('submit', onSearch);\n\nasync function onSearch(event) {\n  event.preventDefault();\n  const query = event.currentTarget.elements.query.value.trim();\n  if (query === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'The search field cannot be empty!',\n    });\n    return;\n  }\n\n  try {\n    const data = await fetchImages(query);\n    if (data.hits.length === 0) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n      });\n      return;\n    }\n\n    renderGallery(data.hits);\n    new SimpleLightbox('.gallery a').refresh();\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: error.message,\n    });\n  }\n}"],"names":["searchImagesByQuery","query","response","error","renderGallery","images","SimpleLightbox","gallery","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","onSearch","event","iziToast","data","fetchImages"],"mappings":"6vBAAe,SAASA,EAAoBC,EAAO,CAI/C,OAAO,MAAM,qEAA2BA,CAAK,0DAA0D,EAAE,KAAMC,GAAa,CACxH,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAO,EAAE,MAAOC,GAAU,CAClB,SAAS,MAAM,CACb,SAAU,WACR,QAAS,GAAGA,CAAK,EAC7B,CAAS,CACT,CAAO,CACP,CCoBO,SAASC,EAAcC,EAAQ,CACjB,IAAIC,EAAe,UAAW,CACnC,SAAU,GACV,aAAc,MACd,aAAc,GAC9B,CAAc,EACV,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASH,EAAO,IAAI,CAAC,CAAE,aAAAI,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACxF;AAAA,mBACML,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA,+BAEjBC,CAAK;AAAA,+BACLC,CAAK;AAAA,kCACFC,CAAQ;AAAA,mCACPC,CAAS;AAAA;AAAA,aAGvC,EAAE,KAAK,EAAE,EACVR,EAAQ,UAAYC,CACxB,CC7CA,SAAS,cAAc,cAAc,EAAE,iBAAiB,SAAUQ,CAAQ,EAE1E,eAAeA,EAASC,EAAO,CAC7BA,EAAM,eAAc,EACpB,MAAMhB,EAAQgB,EAAM,cAAc,SAAS,MAAM,MAAM,OACvD,GAAIhB,IAAU,GAAI,CAChBiB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,mCACf,CAAK,EACD,MACD,CAED,GAAI,CACF,MAAMC,EAAO,MAAMC,EAAYnB,CAAK,EACpC,GAAIkB,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0EACjB,CAAO,EACD,MACD,CAEDd,EAAce,EAAK,IAAI,EACvB,IAAI,eAAe,YAAY,EAAE,SAClC,OAAQhB,EAAO,CACde,EAAS,MAAM,CACb,MAAO,QACP,QAASf,EAAM,OACrB,CAAK,CACF,CACH"}